<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //Синтаксис 1
    // let regExp = new RegExp('Регулярное выражение', 'флаги');

    // Синтаксис 2 (приоритетный)
    // let regExp1 = /рег_выражение/флаги

    let str = 'Язык JavAScript называется так из-за популярности языка Java';
    let regExp = new RegExp('java', 'ig');

    // Флаги
    // i - убирает чувствительность к регистру
    // g - множественный поиск
    // m - многострочный поиск

    // Методы строк
    // search
    // возвращает индекс первого вхождения
    // не чувствителенк у флагу g
    // если не найдено вернет -1
    console.log(str.search(regExp));

    let regExp1 = /java/i;

    //match
    // флаг g находит все вхождения
    // но без индекса вхождения
    // если ничего не найдено - вернет  null
    let a = str.match(regExp1);
    console.log(a.index, a[0], a.input);

    // замены
    console.log('+7 (000)000-00-00'.replace('-', ':'));
    console.log('+7 (000)000-00-00'.replace(/-/, ':'));
    console.log('+7 (000)000-00-00'.replace(/-/g, ':'));

    let name = 'Doe, John';
    console.log(name.replace(/([a-z]+), ([a-z]+)/i, '$2 $1'));
    console.log(name.replace(/([a-z]+), ([a-z]+)/i, 'Hello $2'));
    console.log(name.replace(/([a-z]+), ([a-z]+)/i, 'Hello $&'));


    //Классы
    // \d - [0-9] - [0123456789]
    // \w - [a-z0-9_]
    // \s - space, tab, \n
    // \b - граница слова
    // [а-яА-ЯЁё] - кириллический символ
    // \D - кроме цифр - [^0-9]
    // \W - все, кроме [a-z0-9_]
    // \S - все кроме пробелов
    // \B - все кроме границ слова
    //Кванитификаторы
    // {m} - кол-во пвторений строго m раз
    // {m,n} - кол-во пвторений от m раз до n раз
    // {m,} - кол-во пвторений от m раз до бесконечности
    // { ,m} - кол-во пвторений от 0 до m раз
    // Сокращения
    // +  - {1,}
    // * - {0,}
    // ? - {0,1}

    console.log('2-222-2 2-2222 2-2-2-22'.match(/[\d-]{5,8}/g));

    console.log('+7 (000)000-00-00'.match(/\d/g));
    console.log('+7 (000)000-00-00'.match(/\d+/g));
    console.log('+7 (000)000-00-00'.match(/\d+/g).join(''));

    console.log('color colour'.match(/colou?r/g));
    console.log('color colour colotr'.match(/colo[ut]?r/g));

    // Начало и конец строки
    console.log('Язык java test'.match(/^java/i));
    console.log('java test'.match(/^java/i));

    console.log('Язык java test'.match(/java$/i));
    console.log('Язык java'.match(/java$/i));

    console.log('Chapter 7.2'.match(/\d\.\d/));
    console.log('Chapter 7d2'.match(/\d\.\d/));

    // Методы регулярных выражений
    // test - проверку
    // true или false

    console.log(/java/.test(str));
    console.log(/java/i.test(str));

    // exec
    // при стандартном использовании флаг g не учитывается
    // console.log(/java/i.exec(str));

    let result;
    let regExp2 = /java/ig;


    console.log(`Начальный lastIndex ${regExp2.lastIndex}`);
    while(result = regExp2.exec(str)){
        // console.log(result);
        console.log(`Найдено ${result[0]} на позиции ${result.index}`);
        console.log(`Текущий lastIndex ${regExp2.lastIndex}`);
    }
    console.log(`Конечный lastIndex ${regExp2.lastIndex}`);


    console.log('Язык Java!!'.match(/\bjava\b/i));
    console.log('Язык JavaScript!!'.match(/\b[a-zа-я]+\b/ig));


</script>
</body>
</html>